# 更新內容

需要快速變更或徹底修改文件嗎？本指南將說明如何使用 `update` 指令來修改現有文件，無論是整合新的回饋、反映程式碼變更，還是從頭開始。此工具提供了用於引導式變更的互動模式，以及用於快速、指令列更新的直接模式。

## 互動式更新

若需引導式體驗，請在不帶任何參數的情況下執行 `update` 指令。這將啟動一個互動式會話，您可以在其中選擇要變更的文件並提供指示。

1.  開始互動式更新流程：
    ```bash aigne doc update icon=lucide:terminal
    aigne doc update
    ```
2.  您將看到專案中的文件列表。使用方向鍵移動，使用空格鍵選擇一個或多個檔案，然後按 `Enter` 確認您的選擇。

    ![顯示使用者可從列表中選擇要更新的文件的互動式提示的螢幕截圖。](../../../assets/screenshots/doc-update.png)

接下來的流程取決於您是選擇單一文件還是多個文件。

### 精修單一文件

當您選擇一份文件時，將進入一個專為進行精確調整而設計的迭代精修循環。您會看到一組選項：

*   **View document**：直接在您的終端機中顯示文件內容的目前版本。
*   **Give feedback**：提示您輸入文字以描述您想要的變更。例如，「為非技術使用者簡化引言」或「為驗證函式新增一個程式碼範例」。
*   **Done**：退出精修循環並儲存文件的最新版本。

在您提交回饋後，工具會重新產生文件內容。然後，您可以查看新版本並提供更多回饋，重複此循環，直到您對結果滿意為止。

### 批次更新多個文件

如果您選擇兩個或更多文件，工具將執行批次更新。您將被提示提供單一的指示或回饋。此回饋將同時應用於所有選定的文件。這種方法對於在您的文件中進行一致的變更非常有效，例如更新一個重複出現的章節或標準化術語。

## 使用指令列旗標進行直接更新

當您已經知道需要進行哪些變更時，可以使用指令列旗標直接更新文件，從而跳過互動式提示。

### 應用特定回饋

若要將回饋應用於一個或多個文件，請使用 `--docs` 和 `--feedback` 旗標。`--docs` 旗標指定檔案路徑，而 `--feedback` 則提供更新的指示。

```bash 更新單一文件 icon=lucide:terminal
aigne doc update --docs /overview --feedback "Add a more detailed explanation of the core features."
```

您可以多次指定 `--docs` 旗標，以在一個指令中將相同的回饋應用於多個文件。

```bash 更新多個文件 icon=lucide:terminal
aigne doc update --docs /overview --docs /getting-started --feedback "Ensure the tone is consistent across both documents."
```

### 重設文件

若要捨棄文件的目前版本並從原始碼重新產生，請使用 `--reset` 旗標。此操作會告知工具忽略現有內容，並從頭開始建立文件。

```bash 重設文件 icon=lucide:terminal
aigne doc update --docs /overview --reset
```

當文件因專案程式碼庫的重大變更而嚴重過時時，此功能特別有用。

## 新增與移除文件

雖然 `update` 指令用於修改現有內容，但您可能還需要新增新文件或移除不再相關的文件。對於這些任務，DocSmith 提供了專門的指令：

*   **若要新增一份新文件**，請參閱 [新增文件](./guides-adding-a-document.md) 指南。
*   **若要移除一份現有文件**，請參考 [移除文件](./guides-removing-a-document.md) 指南。
## 指令參數

`update` 指令接受數個參數以控制其行為。以下是可用選項的摘要：

| 參數 | 說明 | 必要 |
| :--- | :--- | :--- |
| `--docs` | 指定要更新的文件路徑。可多次使用。 | 選用 |
| `--feedback` | 提供對指定文件進行變更的文字指示。 | 選用 |
| `--reset` | 一個布林旗標，若存在，則會從頭重新建立文件，忽略現有內容。 | 選用 |
| `--glossary` | 指定一個詞彙表檔案的路徑（`@/path/to/glossary.md`），以確保術語一致性。 | 選用 |
| `--diagram` | 過濾並僅顯示包含圖表（D2 程式碼區塊、佔位符或圖表圖片）的文件，讓使用者選擇要更新的文件。 | 選用 |
| `--diagram-all` | 自動選擇所有包含圖表（D2 程式碼區塊、佔位符或圖表圖片）的文件並更新，無需使用者選擇。 | 選用 |

---

透過使用 `update`、`add-document` 和 `remove-document` 指令，您可以管理文件的完整生命週期，使其與您的專案開發保持一致。關於首次建立文件的資訊，請參閱 [建立文件](./guides-generating-documentation.md) 指南。
