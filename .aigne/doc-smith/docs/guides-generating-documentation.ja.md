# ドキュメント生成

このガイドでは、単一のコマンドを使用して、プロジェクトのソースファイルから完全なドキュメントセットを作成する方法を順を追って説明します。このプロセスは、初期分析から最終的なコンテンツ生成まで、対話的なレビュー手順を挟んで、出力が必要な構造に正確に合致するように設計されています。

## 生成プロセス

`aigne doc create` を実行すると、ツールは一連のステップを実行してプロジェクトを分析し、ドキュメントを作成します。このセクションでは、そのワークフローの事実に基づいた内訳を説明します。

### ステップ1：コマンドの開始

プロセスは、プロジェクトのルートディレクトリで `generate` コマンドを実行することから始まります。このコマンドは、分析からコンテンツ作成までのワークフロー全体を統括します。

```bash Terminal icon=lucide:terminal
aigne doc create
```

効率化のために、エイリアス `gen` または `g` を使用することもできます。

### ステップ2：ソースコードの分析と構造計画

開始すると、DocSmithはプロジェクトのソースファイルの分析を実行します。コードベース内のコンポーネント、ロジック、および関係を特定し、初期のドキュメント構造を提案します。この計画は、「概要」、「はじめに」、「APIリファレンス」など、検出されたコンテンツに合わせた論理的なドキュメント階層の概要を示します。

### ステップ3：対話的な構造レビュー

初期構造が計画された後、レビューのためにターミナルに表示されます。このステップにより、コンテンツが書き込まれる前にドキュメントの構成を承認または変更できます。

2つの選択肢があります：
1.  **構造を受け入れる：** 提案された構成でよろしければ、それを承認して続行できます。
2.  **改善のためのフィードバックを提供する：** プレーンテキストの指示を入力して構造を変更できます。

![Interactive prompt to refine the documentation structure.](../../../assets/screenshots/doc-generate-feedback.png)

フィードバックの例：
*   「'Getting Started' を 'Quick Start' に名前変更してください。」
*   「'Troubleshooting' というタイトルの新しいドキュメントを追加してください。」
*   「'API Reference' を 'Guides' セクションの下に移動してください。」

ツールはフィードバックに基づいて構造を修正し、再度レビューのために提示します。この反復プロセスは、構造が要件を満たすまで続きます。

### ステップ4：コンテンツの生成

ドキュメントの構造が確定し、承認されると、DocSmithは計画内の各ドキュメントのコンテンツ生成を開始します。関連するソースファイルを処理して、詳細な説明とコード例を書き出します。この操作はすべてのドキュメントに対して実行され、承認された構造に従って完全なカバレッジを保証します。

### ステップ5：完了

すべてのドキュメントが生成されると、確認メッセージがターミナルに表示されます。出力ファイルは、設定で指定されたディレクトリ（デフォルトは `.aigne/doc-smith/docs`）に保存されます。

![Success notification banner indicating document creation is complete.](../../../assets/screenshots/doc-generated-successfully.png)

## コマンドオプション

`generate` コマンドには、その動作を制御するためのオプションフラグが含まれています。これらのフラグにより、生成プロセス中により具体的なアクションが可能になります。

| オプション | 説明 |
| :--- | :--- |
| `--forceRegenerate` | ソースファイルからすべてのドキュメントを再構築し、既存のドキュメントを上書きします。大幅なコード変更後に完全に更新する場合に便利です。 |
| `--glossary <path>` | 用語集ファイルへのパスを指定します（例：`@glossary.md`）。用語集を使用すると、ドキュメント全体で主要な用語が一貫して使用されることが保証されます。 |

### 例：強制的な再生成

既存のドキュメントを破棄し、最初から新しいセットを生成するには、`--forceRegenerate` フラグを使用します。

```bash Terminal icon=lucide:terminal
aigne doc create --forceRegenerate
```

### 例：用語集の使用

用語の一貫性を保つために、用語集ファイルへのパスを指定します。

```bash Terminal icon=lucide:terminal
aigne doc create --glossary @./project-glossary.md
```

## まとめ

このガイドでは、新しいドキュメントセットを生成するための体系的なプロセスについて詳しく説明しました。ワークフローは、コマンドの開始とソース分析から、対話的な構造レビュー、そしてコンテンツ作成へと進みます。

ドキュメントが生成されたら、[既存のドキュメント更新](./guides-updating-documentation.md)または[ドキュメント公開](./guides-publishing-your-docs.md)に進むことができます。
