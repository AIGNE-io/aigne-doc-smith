# 初始设置

本指南将逐步引导您完成 AIGNE DocSmith 的交互式设置过程。该过程在您首次执行 `aigne doc create` 时会自动运行，但您也可以手动启动。其目标是创建一个 `config.yaml` 文件，用于存储您生成文档时的偏好设置。

## 如何启动设置过程

如需手动开始配置，请在终端中导航至您项目的根目录，并运行以下命令：

```sh aigne doc init icon=lucide:terminal
aigne doc init
```

此命令将启动一个包含 9 个步骤的交互式问卷，以配置您的文档设置。

## 配置步骤

设置过程将向您提出一系列问题。以下各节详细说明了每个步骤。

### 第 1 步：定义文档目的

第一步是确定您文档的主要目标。这一选择会影响生成内容的基调、结构和重点。

**提示：** `📝 [1/9]: 您希望文档帮助读者达成什么目标？`

您可以从以下列表中选择一个或多个选项：

| 选项 | 名称 | 描述 |
| :----------------- | :------------------------ | :----------------------------------------------------------- |
| `getStarted` | 快速入门 | 帮助新用户在 30 分钟内从零开始到正常使用。 |
| `completeTasks` | 完成特定任务 | 指导用户完成常见的工作流程和用例。 |
| `findAnswers` | 快速找到答案 | 为所有功能和 API 提供可搜索的参考。 |
| `understandSystem` | 理解系统 | 解释其工作原理以及设计决策背后的原因。 |
| `solveProblems` | 解决问题 | 帮助用户排查和修复问题。 |
| `mixedPurpose` | 以上混合 | 全面覆盖多种需求。 |

### 第 2 步：确定目标受众

接下来，指明您文档的主要读者。这有助于将语言和技术深度调整到适当的水平。

**提示：** `👥 [2/9]: 谁将会阅读您的文档？`

您可以从此列表中选择多个受众：

| 选项 | 名称 | 描述 |
| :--------------- | :------------------------- | :----------------------------------------------------------- |
| `endUsers` | 最终用户（非技术人员） | 使用产品但不编写代码的人员。 |
| `developers` | 集成开发者 | 将产品添加到其项目中的工程师。 |
| `devops` | DevOps/基础设施人员 | 负责部署、监控和维护系统的团队。 |
| `decisionMakers` | 技术决策者 | 评估技术以供实施的架构师或负责人。 |
| `supportTeams` | 支持团队 | 帮助他人使用产品的人员。 |
| `mixedTechnical` | 混合技术受众 | 开发者、DevOps 人员和其他技术用户的组合。 |

### 第 3 步：指定读者知识水平

指明您受众的预设知识水平。这能确保内容以有效的方式呈现，避免信息过于基础或过于复杂。

**提示：** `🧠 [3/9]: 您的读者对您的项目了解多少？`

选择最能描述您读者的选项：

| 选项 | 名称 | 描述 |
| :------------------------- | :--------------------------- | :----------------------------------------------------------------- |
| `completeBeginners` | 完全初学者 | 完全不熟悉该领域或技术。 |
| `domainFamiliar` | 熟悉领域，但对工具陌生 | 了解问题领域，但对这个具体解决方案不熟悉。 |
| `experiencedUsers` | 经验丰富的用户 | 需要参考资料或高级主题的常规用户。 |
| `emergencyTroubleshooting` | 紧急/故障排除 | 遇到问题并需要快速修复的用户。 |
| `exploringEvaluating` | 探索/评估 | 试图确定该工具是否满足其需求的用户。 |

### 第 4 步：设置文档深度

选择文档应达到的详细程度。此参数决定了生成内容的范围和细节水平。

**提示：** `📊 [4/9]: 您的文档应该多详细？`

选择以下级别之一：

| 选项 | 名称 | 描述 |
| :----------------- | :------------------- | :------------------------------------------------------------------- |
| `essentialOnly` | 仅含必要内容 | 简明扼要地涵盖最常见的 80% 用例。 |
| `balancedCoverage` | 均衡覆盖 | 提供良好深度和实际示例。 |
| `comprehensive` | 全面详尽 | 涵盖所有功能、边缘案例和高级场景。 |
| `aiDecide` | 由 AI 决定 | 工具会分析代码复杂度以建议合适的深度。 |

### 第 5 步：选择主要语言

选择您文档的主要语言。系统将检测您操作系统的语言并建议其为默认语言。

**提示：** `🌐 [5/9]: 您的文档主要使用哪种语言？`

您可以从包含英语、中文（简体）和西班牙语等 12 种支持的语言列表中进行选择。

### 第 6 步：选择本地化语言

选择您希望将文档本地化为的其他语言。

**提示：** `🔄 [6/9]: 我们应该将文档本地化为哪些语言？`

您可以从支持的选项中选择多种语言，不包括上一步中选择的主要语言。

### 第 7 步：定义文档目录

指定保存生成的文档文件的文件夹。

**提示：** `📁 [7/9]: 我们应该将您的文档保存在哪里？`

默认路径是 `.aigne/doc-smith/docs`。您可以接受此默认设置或提供其他路径。

### 第 8 步：指定内容源

指明工具应分析哪些文件、文件夹或 URL 来生成文档。您可以添加多个路径，并使用 glob 模式进行更精确的文件匹配。

**提示：** `🔍 [8/9]: 数据源`

系统将提示您输入文件路径（例如 `./src`）、glob 模式（例如 `src/**/*.js`）或 URL（例如 `https://example.com/openapi.yaml`）。如果未提供路径，工具将默认分析整个项目目录。

### 第 9 步：提供自定义规则

此为可选步骤，允许您提供具体说明或约束，供 AI 在内容生成过程中遵循。

**提示：** `📋 [9/9]: 您对文档有任何自定义规则或要求吗？（可选，按 Enter 键跳过）`

您可以输入任何要求，如基调、风格或要排除的内容。例如：“侧重技术准确性，避免使用营销术语。”

## `config.yaml` 文件

在您回答完所有问题后，DocSmith 会将您的回答保存到一个名为 `config.yaml` 的配置文件中，该文件位于您项目的 `.aigne/doc-smith/` 目录下。此文件将作为未来所有文档生成的蓝图，并可随时手动编辑。

以下是一个生成的 `config.yaml` 文件示例：

```yaml config.yaml icon=logos:yaml
# 用于文档发布的项目信息
projectName: AIGNE DocSmith
projectDesc: AIGNE DocSmith 是一款功能强大的、由 AI 驱动的文档生成工具...
projectLogo: https://docsmith.aigne.io/image-bin/uploads/9645caf64b4232699982c4d940b03b90.svg

# AI 思考配置
thinking:
  effort: standard

# =============================================================================
# 文档配置
# =============================================================================

# 目的：您希望读者达成的最主要成果是什么？
documentPurpose:
  - getStarted
  - completeTasks

# 目标受众：谁会最常阅读本文档？
targetAudienceTypes:
  - endUsers

# 读者知识水平：读者在阅读时通常具备哪些知识？
readerKnowledgeLevel: completeBeginners

# 文档深度：文档应该有多全面？
documentationDepth: comprehensive

# 自定义规则：定义具体的文档生成规则和要求
rules: |
  避免使用模糊或空洞的词语，这些词语无法提供可衡量或具体的细节...

# 目标受众：描述您的具体目标受众及其特征
targetAudience: |

# 语言设置
locale: en
translateLanguages:
  - zh
  - zh-TW
  - ja

# 路径
docsDir: ./docs  # 生成的文档将被保存的目录。
sourcesPath:  # 需要分析的源代码路径。
  - ./README.md
  - ./agents

# 图像过滤设置
media:
  minImageWidth: 800
```

## 总结与后续步骤

设置完成后，您将看到一条确认消息，显示新配置文件的路径。

![设置完成](../../../assets/screenshots/doc-complete-setup.png)

初始配置保存后，您现在就可以开始创建文档了。

<x-cards data-columns="2">
  <x-card data-title="创建文档" data-href="/guides/generating-documentation" data-icon="lucide:file-text">
    了解如何运行创建过程以生成您的第一批文档。
  </x-card>
  <x-card data-title="管理偏好设置" data-href="/configuration/managing-preferences" data-icon="lucide:settings">
    了解如何随时查看和修改您已保存的配置。
  </x-card>
</x-cards>
