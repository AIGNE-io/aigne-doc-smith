# 更新文档

需要快速修改或彻底修订文档？本指南将说明如何使用 `update` 命令来修改现有文档，无论您是要采纳新反馈、反映代码变更，还是从头开始。该工具提供了用于引导式修改的交互模式，以及用于快速命令行更新的直接模式。

## 交互式更新

要获得引导式体验，请在不带任何参数的情况下运行 `update` 命令。这将启动一个交互式会话，您可以在其中选择要更改的文档并提供说明。

1.  启动交互式更新流程：
    ```bash aigne doc update icon=lucide:terminal
    aigne doc update
    ```
2.  您将看到项目文档的列表。使用方向键移动，使用空格键选择一个或多个文件，然后按 `Enter` 键确认您的选择。

    ![一张截图，显示了交互式提示符，用户可以从中选择要更新的文档。](../../../assets/screenshots/doc-update.png)

接下来的流程取决于您是选择单个文档还是多个文档。

### 精炼单个文档

当您选择一个文档时，您将进入一个为进行精确调整而设计的迭代优化循环。系统会向您呈现一组选项：

*   **View document**：直接在终端中显示文档的当前内容。
*   **Give feedback**：提示您输入文本以描述您想要的更改。例如，“为非技术用户简化引言”或“为身份验证函数添加一个代码示例”。
*   **Done**：退出优化循环并保存文档的最新版本。

提交反馈后，该工具会重新生成文档内容。然后您可以查看新版本并提供更多反馈，重复此循环，直到您对结果满意为止。

### 批量更新多个文档

如果您选择两个或更多文档，该工具将执行批量更新。系统会提示您提供单个指令或反馈。此反馈将同时应用于所有选定的文档。此方法对于在整个文档中进行一致性更改非常高效，例如更新重复出现的章节或规范术语。

## 使用命令行标志进行直接更新

当您已经知道需要进行哪些更改时，可以使用命令行标志直接更新文档，从而绕过交互式提示。

### 应用特定反馈

要将反馈应用于一个或多个文档，请使用 `--docs` 和 `--feedback` 标志。`--docs` 标志指定文件路径，`--feedback` 提供更新说明。

```bash 更新单个文档 icon=lucide:terminal
aigne doc update --docs /overview --feedback "Add a more detailed explanation of the core features."
```

您可以多次指定 `--docs` 标志，以便在一条命令中将相同的反馈应用于多个文档。

```bash 更新多个文档 icon=lucide:terminal
aigne doc update --docs /overview --docs /getting-started --feedback "Ensure the tone is consistent across both documents."
```

### 重置文档

要放弃文档的当前版本并从源代码重新生成它，请使用 `--reset` 标志。此操作会告知工具忽略现有内容并从头开始创建文档。

```bash 重置文档 icon=lucide:terminal
aigne doc update --docs /overview --reset
```

当文档因项目代码库发生重大变化而严重过时时，此功能特别有用。

## 命令参数

`update` 命令接受多个参数以控制其行为。以下是可用选项的摘要：

| 参数 | 描述 | 必需 |
| :--- | :--- | :--- |
| `--docs` | 指定要更新的一个或多个文档的路径。可多次使用。 | 可选 |
| `--feedback` | 提供对指定文档进行更改的文本说明。 | 可选 |
| `--reset` | 一个布尔标志，存在时会从头开始重新生成文档，忽略现有内容。 | 可选 |
| `--glossary` | 指定词汇表文件的路径（`@/path/to/glossary.md`），以确保术语一致。 | 可选 |

---

通过这些方法，您可以高效地管理您的文档，使其保持准确并与您的项目开发保持一致。有关首次创建文档的信息，请参阅[创建文档](./guides-generating-documentation.md)指南。
