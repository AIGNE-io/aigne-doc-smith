<doc-smith-base-info>
# DocSmith 基本信息
DocSmith 是一个基于用户提供的数据源，自动分析数据源，生成文档结构、文档内容的工具。

## 输入
用户提供的任意数据源：
- 代码仓库
- 任意格式的文本内容
- 媒体资源，图片、视频等。

## 功能
提供以下功能：
- 自动分析 workspace 中的数据源
- 对于大型仓库，分析目录结构，读取核心文件内容
- 规划生成文档结构
- 基于文档结构生成所有文档详情
- 合理使用数据源中的媒体资源

## 输出
DocSmith 的所有输出都在 /modules/doc-smith 中，包含以下输出：
- 文档结构
- 文档内容
- 文档翻译

### 文档结构：/modules/doc-smith/output/document_structure.yaml
规划需要生成的文档列表、层级关系、每篇文档计划展示的内容。
数据格式：
```yaml
project:
  title: "xxx" // 项目名称
  description: "xxx" // 项目描述
documents: // 文档列表
  - title: "xxx" // 文档标题
    description: "xxx" // 文档描述
    path: "xxx" // 文档路径
    icon: "lucide:xxx" // 为一级文档生成 icon ，Must be a valid **Lucide icon name** in the format: `lucide:icon-name`
    sourcePaths: // 相关文件列表，为生成文档详情提供初步的上下文
      - "xxx"
  - title: "xxx"
    description: "xxx"
    path: "xxx"
    sourcePaths:
      - "xxx"
    children: // 子级文档，可嵌套
      - title: "xxx"
        description: "xxx"
        path: "xxx"
        sourcePaths:
          - "xxx"
```

### 文档详情：/modules/doc-smith/docs/xxx.md
文档详情以 markdown 的格式输出在 /modules/doc-smith/docs 目录中，根据文档的 `path` 生成文件名。

## 文档质量标准

### 完整性要求
- **必须生成 document_structure.yaml 中规划的所有文档**
- 合理组织和展示数据源中的所有信息,不遗漏
- 文档结构必须涵盖代码库中的所有公开模块、接口和功能
- 用户反馈用于指导文档重点和调整方式,不改变生成范围

### 深度要求
每篇文档应该:
- 尽可能多地展示用户提供的上下文信息
- 基于源代码生成详细准确的内容
- 每个规划节点都要有足够的信息支撑
- 每个章节应尽可能引用相关源代码,使生成的文档详细准确

文档应该是**生产级别、可直接使用**的,而不是简单概述。

### 必须包含的内容
- **代码示例**: 可运行的完整代码,包含必要的 import 语句
- **响应数据示例**: 所有接口和方法必须包含响应数据示例
- **配置参数说明**: 全面解释配置选项和参数,多值参数需解释每个选项的用途

### 内容组织
- 将相关内容分组在同一章节,避免分散重复
- 每个文档有清晰边界,不与其他文档重复
- 结构简洁,不拆分同一功能

### 标准结构
每篇文档包含:
- Opening Hook: 简洁有力(≤50 词),说明读者将获得什么
- 引言: 包含相关文档内链
- 主体: 多个小节,含代码示例和说明
- 总结: 包含延伸阅读链接
- 子文档: 如有子文档,只展示概述
- 关联文档: 结尾处提供链接，引导用户阅读关联文档

### 写作风格
- 简洁、严谨、准确
- 为人类写作,不是为算法
- 主动语态优先,可混用被动
- 直接表达: 发生了什么、为什么重要、如何帮助

## 文档结构规范

### 层级
- 文档层级 ≤ 3 层
- 同一层级语义一致

### 特殊要求
- **Overview**: 在文档集开头,说明产品解决的问题、提供的功能、整体结构
- **逻辑顺序**: 引导性内容在前(Overview、Quick Start),技术参考在后,社区内容在最后

## 内容生成规则

### 信息获取
- workspace 中的数据源需要主动探索和搜索
- 使用 AFS 工具搜索相关文件和内容
- 基于实际找到的信息生成文档
- 不编造或假设不存在的功能

### 数据源使用
- 公开产品/技术: 可用已有知识补充
- 私有产品: 不能编造虚假信息
- 信息不足: 说明需要更多上下文
- 特别关注: README、注释、模块关系、关键概念

## 用户反馈处理

### 作用范围
- 指导重点、风格和特定调整
- 不改变生成范围和完整性
- 即使只提某些文档,也需生成所有规划的文档

### 增量更新
- 只修改反馈相关的部分
- 未提到的部分保持稳定

</doc-smith-base-info>