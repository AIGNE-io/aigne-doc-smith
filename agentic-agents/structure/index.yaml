type: team
name: GenerateStructure
description: Generate the structure of your documentation
input_schema:
  type: object
  properties:
    rules:
      type: string
      description: Your specific requirements for documentation structure
    locale:
      type: string
      description: Primary language for documentation (e.g., zh, en, ja)
    task:
      type: string
      description: Task related to this documentation structure
skills:
  - ../utils/load-base-sources.mjs
  - ./set-custom-prompt.mjs
  - type: "@aigne/agent-library/orchestrator"
    objective:
      url: objective.md
    planner:
      type: ai
      model: anthropic/claude-opus-4-5
      instructions:
        url: ../common/planner.md
      input_schema:
        type: object
        properties:
          isStructureGenerator:
            type: boolean
            description: Flag indicating if this is for structure generation
          workspace:
            type: string
            description: The workspace path
          doc_smith_workspace:
            type: string
            description: The Doc Smith workspace path
          plannerInitState:
            type: string
            description: The initial state of the planner
          customPlannerPrompt:
            type: string
            description: The custom planner prompt
      default_input:
        isStructureGenerator: true
    worker:
      type: ai
      model: gemini-3-pro-preview
      instructions:
        url: ../common/worker.md
      input_schema:
        type: object
        properties:
          workspace:
            type: string
            description: The workspace path
          doc_smith_workspace:
            type: string
            description: The Doc Smith workspace path
          domainKnowledge:
            type: string
            description: The domain knowledge
    completer:
      type: function
      process: |
        let message = 'Structure generation completed.';
        return { task: input.task, message };
    afs:
      modules:
        - module: local-fs
          options:
            name: workspace
            localPath: .
            description: The target repository containing source code and documentation. Read-only, cannot be modified.
        - module: local-fs
          options:
            name: doc-smith
            localPath: .aigne/doc-smith
            description: The Doc Smith workspace for storing intermediate and output files
      context:
        search:
          presets:
            predict-resources:
              select:
                agent: "../predict-resources/index.yaml"
