# 更新文档

维护文档的准确性和相关性是一个持续的过程。随着项目的发展，更新文档的需求也会随之而来。本指南提供了一个修改现有文档的分步流程，无论您是需要采纳用户反馈、反映代码变更，还是完全重新生成某个部分。

`update` 命令是一个灵活的工具，既可以交互式地用于选择文档，也可以通过命令行标志非交互式地应用特定变更。

## 通过交互式提示进行更新

使用 `update` 命令的默认方式是不带任何参数运行它。这将启动一个交互式会话，您可以在其中选择一个或多个要修改的文档。

1.  在您的终端中运行 `update` 命令：

    ```bash 命令 aigne doc update icon=lucide:terminal
    aigne doc update
    ```

2.  该工具将显示您现有文档的列表。使用箭头键导航，使用空格键选择一个或多个文档，然后按 Enter 键确认。

    ![交互式文档更新提示的屏幕截图，显示了可供选择的文档列表。](../assets/screenshots/doc-update.png)

接下来的步骤取决于您选择了多少个文档。

### 优化单个文档

如果您只选择一个文档，您将进入一个迭代审查循环。此模式非常适合对单个文件进行精确修改。您将看到以下选项：
*   **查看文档**：直接在您的终端中显示文档当前版本的全部内容以供审查。
*   **提供反馈**：提示您输入关于希望更改内容的文本反馈。例如，“简化配置过程的解释”或“为常见错误添加故障排除部分”。
*   **完成**：退出交互式会话并保存文档的最新版本。

在您提供反馈后，该工具会重新生成文档。然后，您可以查看更改并提供更多反馈。这个循环可以重复进行，直到文档满足您的要求。

### 更新多个文档

如果您选择多个文档，该工具将执行批量更新。系统将提示您提供一条反馈，该反馈将应用于所有选定的文档。这对于一次性在多个文件中进行一致性更改非常有用，例如统一术语或更新公共部分。

## 通过命令行标志直接更新

直接更新旨在无需交互式审查循环即可进行更改。当您确切知道需要进行哪些更改并希望直接应用它们时，这种方法非常有用。

### 使用特定反馈进行更新

您可以直接从命令行提供反馈来更新一个或多个文档。这将绕过交互式会话并立即应用更改。

使用 `--docs` 标志指定文档的路径，并使用 `--feedback` 标志提供您的指示。

```bash 命令 aigne doc update with feedback icon=lucide:terminal
aigne doc update --docs overview.md --feedback "Add a more detailed explanation of the core features."
```

要更新多个文档，只需提供多个 `--docs` 标志：

```bash 命令 aigne doc update multiple docs icon=lucide:terminal
aigne doc update --docs overview.md --docs getting-started.md --feedback "Ensure the tone is consistent across both documents."
```

### 重置文档内容

在某些情况下，您可能希望丢弃文档的当前版本，并根据最新的源代码从头开始重新生成。`--reset` 标志指示工具完全忽略现有内容。

```bash 命令 aigne doc update with reset icon=lucide:terminal
aigne doc update --docs overview.md --reset
```

当文档因底层代码的重大更改而变得严重过时时，此命令非常有用。



## 命令参数

`update` 命令接受多个参数来控制其行为。以下是可用选项的摘要：

| 参数 | 描述 | 示例 |
| :--------- | :------------------------------------------------------------------------------------------------------ | :------------------------------------------------------- |
| `--docs` | 指定要更新的一个或多个文档的路径。对于多个文件，可以多次使用此参数。 | `--docs overview.md` |
| `--feedback` | 提供对指定文档进行更改的文本说明。 | `--feedback "Clarify the installation steps."` |
| `--reset` | 一个布尔标志，当存在时，会使文档从头开始重新生成。 | `--reset` |
| `--glossary` | 指定词汇表文件的路径，以确保在更新过程中术语的一致性。 | `--glossary @/path/to/glossary.md` |