---
labels: ["Reference"]
---

# 更新和优化

创建文档只是第一步。随着源代码的演进，文档也必须同步更新。AIGNE DocSmith 提供了简单直接的方法，确保您的文档始终保持准确和相关，无论您是与代码变更同步，还是根据反馈进行特定改进。

## 从源代码自动更新

当您修改源代码时，更新文档最简单的方法是再次运行 `generate` 命令。DocSmith 会智能检测已更改的文件，并仅重新生成相应的文档。这可以节省时间，并确保您的文档始终反映代码的当前状态。

```bash
aigne doc generate
```

这种智能检测机制避免了对未更改文档的重新生成，从而提高了更新过程的效率。

![一张图表，展示了 DocSmith 智能检测变更并仅重新生成必要文档的过程。](https://docsmith.aigne.io/image-bin/uploads/21a76b2f65d14d16a49c13d800f1e2c1.png)


## 根据反馈进行定向重新生成

有时，您可能希望在不重新分析整个代码库的情况下改进特定文档。`aigne doc update` 命令专为此目的设计，允许您根据定向反馈重新生成单个文档。

### 交互模式

要获得简单易用的引导式体验，请在不带任何参数的情况下运行该命令。DocSmith 将启动一个交互式菜单，您可以在其中选择要更新的文档，然后提供改进反馈。

```bash
aigne doc update
```

这种方式非常适合在无需记住特定文件路径的情况下快速优化内容。

![一个交互式命令行菜单，允许用户选择要更新的特定文档。](https://docsmith.aigne.io/image-bin/uploads/b2bab8e5a727f168628a1cc8c5020697.png)

### 直接命令

您也可以通过命令行参数直接指定文档和反馈。这对于编写脚本或进行快速更改非常有用。

使用 `--docs` 标志指定文档路径，使用 `--feedback` 标志为 AI 提供指令。

```bash
# 使用反馈更新特定文档
aigne doc update --docs overview.md --feedback "添加更全面的常见问题解答条目"
```

## 优化整体结构

除了内容，您还可以优化文档的整体结构。通过向 `generate` 命令提供反馈，您可以指示 DocSmith 对文档计划进行重组，如添加或删除部分。

```bash
# 使用反馈优化结构
aigne doc generate --feedback "移除‘关于’部分，并添加一个 API 参考"
```

此命令将在重新生成内容之前，根据您的反馈重新评估结构计划，从而实现对整个文档集的高层级调整。

---

借助这些工具，您可以让文档保持最新状态，并持续提升其质量。当您对内容感到满意后，下一步就是发布文档。具体方法请参见 [发布您的文档](./features-publish-your-docs.md) 部分。