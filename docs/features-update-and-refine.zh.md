---
labels: ["Reference"]
---

# 更新与优化

生成初始文档后，下一步是保持其更新并提升质量。AIGNE DocSmith 提供了强大而灵活的方式来更新文档，无论是响应源代码变更，还是采纳特定反馈以优化内容。

## 基于代码变更的智能更新

DocSmith 的设计旨在提高效率。当源代码发生变更时，你无需手动追踪受影响的文档。只需再次运行生成命令：

```bash
aigne doc generate
```

该工具会自动检测源代码的变更部分，并仅重新生成相应的文档。这种智能更新机制可以节省时间，并确保文档与代码库保持同步，而无需从头开始重新生成所有内容。

![智能检测仅重新生成必要的文档](https://docsmith.aigne.io/image-bin/uploads/21a76b2f65d14d16a49c13d800f1e2c1.png)

## 通过反馈优化单个文档

如需进行针对性改进，可使用 `aigne doc update` 命令，通过直接提供反馈来重新生成特定文档。该命令非常适合用于澄清章节内容、添加示例或修正不准确之处。你可以通过两种方式使用此命令：交互模式或直接指定参数。

### 交互模式

如需引导式体验，请不带任何参数运行该命令：

```bash
aigne doc update
```

DocSmith 将提供一个交互式菜单，列出所有文档。你可以选择希望更新的文档，随后系统将提示你提供反馈。这是进行特定改进最简单的方式，无需记忆文件路径。

![交互式选择需要更新的文档](https://docsmith.aigne.io/image-bin/uploads/75e9cf9823bb369c3d2b5a2e2da4ac06.png)

### 使用参数进行定向更新

你也可以在命令行中直接指定文档和反馈，以加快工作流程。这在编写脚本或明确知道要更改什么内容时非常有用。

```bash
aigne doc update --docs overview.md --feedback "添加更全面的常见问题解答条目"
```

该命令将仅重新生成 `overview.md` 文档，并采纳你的反馈以添加更多常见问题解答。

以下是 `update` 命令的主要参数：

| 参数 | 描述 | 示例 |
|---|---|---|
| `--docs` | 要更新的文档路径。你可以多次指定该参数以更新多个文档。 | `--docs examples.md` |
| `--feedback` | 供 AI 在重新生成内容时使用的反馈或指令。 | `--feedback "澄清关于 API 密钥的部分"` |
| `--glossary` | 使用术语表文件以确保术语一致性。 | `--glossary @path/to/glossary.md` |

## 优化整体结构

优化不仅限于单个文件的内容，你还可以改进文档的整体结构。通过向 `generate` 命令提供反馈，你可以让 DocSmith 对文档计划进行重组、添加或删除章节。

例如，要添加一个新的 API 参考部分并移除现有的关于部分，你可以运行：

```bash
aigne doc generate --feedback "移除“关于”部分并添加 API 参考"
```

该命令会指示 AI 首先修订 `structurePlan`，然后根据新结构重新生成文档。

---

通过使用这些更新与优化功能，你可以维护与项目共同演进的高质量、准确且结构良好的文档。当你对内容感到满意后，下一步就是将其提供给更广泛的受众。请继续阅读 [翻译文档](./features-translate-documentation.md) 指南，了解如何触达全球受众。