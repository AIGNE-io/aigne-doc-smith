---
labels: ["Reference"]
---

# 更新与优化

让文档与不断演进的代码库保持同步是一项重大挑战。AIGNE DocSmith 提供了强大的工具，无论是通过智能自动更新还是有针对性的手动优化，都能确保您的文档保持准确和相关。

本指南将介绍如何根据代码变更重新生成文档以保持其最新状态，以及如何利用反馈迭代提升内容质量。

## 具备智能检测功能的自动更新

DocSmith 的设计旨在提高效率。当您运行 `aigne doc generate` 命令时，它不会盲目地重新生成所有内容。相反，它会智能分析您的代码库，检测自上次运行以来哪些文件发生了变化，并仅重新生成受这些变化影响的文档部分。

这个过程可以节省大量时间，并降低与 LLM API 调用相关的成本，从而使得将文档生成直接集成到您的开发工作流中变得可行。

![智能检测，仅重新生成必要的文档](https://docsmith.aigne.io/image-bin/uploads/21a76b2f65d14d16a49c13d800f1e2c1.png)

要强制从头开始完全重新生成所有文档，忽略先前结果的缓存，您可以使用 `--forceRegenerate` 标志：

```bash 强制重新生成
aigne doc generate --forceRegenerate
```

## 定向文档重新生成

有时，您需要在没有任何相应代码变更的情况下改进特定文档的内容。您可能想要添加更多示例、阐明一个复杂的主题，或采纳用户反馈。为此，`aigne doc update` 命令是理想的工具。

### 交互模式

要获得引导式体验，只需运行不带任何参数的命令。DocSmith 将启动一个交互式向导。

```bash 交互式更新
aigne doc update
```

该向导将提示您：
1.  **选择文档**：从所有现有文档列表中选择您希望更新的文档。
2.  **提供反馈**：在您的默认文本编辑器中提供反馈。请尽可能具体，以指导 AI 做出期望的改进。

![交互式选择要更新的文档](https://docsmith.aigne.io/image-bin/uploads/75e9cf9823bb369c3d2b5a2e2da4ac06.png)

### 命令行模式

如果您更喜欢直接通过命令行工作，可以使用标志来指定文档和您的反馈。这对于编写脚本或进行快速更新非常理想。

使用 `--docs` 标志指定要更新的文档路径，并使用 `--feedback` 标志提供您的指令。

```bash 更新指定文档
aigne doc update --docs /overview --feedback "在末尾添加一个更全面的常见问题解答部分，以解决常见的用户问题。"
```

您可以多次指定 `--docs` 标志，在单个命令中更新多个文档。

## 优化整体结构

虽然 `aigne doc update` 用于优化单个文档的*内容*，但您有时可能希望优化文档的整体*结构*。这包括添加新章节、删除过时章节或重组整个布局等任务。

要修改结构，请使用带有 `--feedback` 标志的 `aigne doc generate` 命令。这会告知 DocSmith 根据您的新输入重新评估整个结构规划。

```bash 使用反馈优化结构
aigne doc generate --feedback "移除‘关于’部分，并根据 JSDoc 注释添加一个详细的‘API 参考’部分。"
```

这种方法可确保您的文档架构随着项目需求的发展而演进。

---

借助这些工具，您可以用最少的精力维护高质量、最新的文档。在优化内容之后，下一步通常是让更广泛的受众能够访问它。

接下来，学习如何将[文档翻译](./features-translate-documentation.md)成多种语言。