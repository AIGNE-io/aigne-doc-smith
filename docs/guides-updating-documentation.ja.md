# ドキュメントの更新

ドキュメントの正確性と関連性を維持することは、継続的なプロセスです。プロジェクトの進化に伴い、ドキュメントを更新する必要性も高まります。このガイドでは、ユーザーからのフィードバックを取り入れる、コードの変更を反映する、あるいはセクションを完全に再生成するなど、既存のドキュメントを修正するためのステップバイステップのプロセスを説明します。

`update` コマンドは、対話形式でドキュメントを選択したり、コマンドラインフラグを使用して非対話形式で特定の変更を適用したりできる柔軟なツールです。

## 対話型プロンプトによる更新

`update` コマンドのデフォルトの使用方法は、引数なしで実行することです。これにより、修正するドキュメントを1つ以上選択できる対話型セッションが開始されます。

1.  ターミナルで `update` コマンドを実行します:

    ```bash コマンド aigne doc update icon=lucide:terminal
    aigne doc update
    ```

2.  ツールが既存のドキュメントのリストを表示します。矢印キーで移動し、スペースバーで1つ以上のドキュメントを選択し、Enterキーを押して確定します。

    ![対話型のドキュメント更新プロンプトのスクリーンショット。選択可能なドキュメントのリストが表示されています。](../assets/screenshots/doc-update.png)

次のステップは、選択したドキュメントの数によって異なります。

### 単一ドキュメントの改良

ドキュメントを1つだけ選択した場合、反復的なレビューサイクルに入ります。このモードは、単一のファイルに正確な変更を加えるのに最適です。以下のオプションが表示されます:
*   **ドキュメントを表示 (View document)**: ドキュメントの現在バージョンの全内容をレビュー用にターミナルに直接表示します。
*   **フィードバックを提供 (Give feedback)**: 変更したい内容についてテキスト形式のフィードバックを入力するよう促します。例えば、「設定プロセスの説明を簡潔にしてください」や「よくあるエラーのトラブルシューティングセクションを追加してください」などです。
*   **完了 (Done)**: 対話型セッションを終了し、ドキュメントの最新バージョンを保存します。

フィードバックを提供すると、ツールがドキュメントを再生成します。その後、変更内容を確認し、さらにフィードバックを提供できます。このサイクルは、ドキュメントが要件を満たすまで繰り返すことができます。

### 複数ドキュメントの更新

複数のドキュメントを選択した場合、ツールは一括更新を実行します。選択したすべてのドキュメントに適用される単一のフィードバックを提供するよう求められます。これは、用語の標準化や共通セクションの更新など、複数のファイルにわたって一貫した変更を一度に行う場合に便利です。

## コマンドラインフラグによる直接更新

直接更新は、対話型のレビューサイクルなしで変更を行うために設計されています。このアプローチは、どのような変更が必要かを正確に把握しており、それを直接適用したい場合に便利です。

### 特定のフィードバックによる更新

コマンドラインから直接フィードバックを提供して、1つまたは複数のドキュメントを更新できます。これにより、対話型セッションをバイパスし、変更を即座に適用します。

`--docs` フラグでドキュメントのパスを指定し、`--feedback` フラグで指示を提供します。

```bash フィードバック付きのaigne doc updateコマンド icon=lucide:terminal
aigne doc update --docs overview.md --feedback "Add a more detailed explanation of the core features."
```

複数のドキュメントを更新するには、`--docs` フラグを複数指定するだけです:

```bash 複数ドキュメントを更新するaigne doc updateコマンド icon=lucide:terminal
aigne doc update --docs overview.md --docs getting-started.md --feedback "Ensure the tone is consistent across both documents."
```

### ドキュメント内容のリセット

場合によっては、ドキュメントの現在のバージョンを破棄し、最新のソースコードに基づいてゼロから再生成したいことがあります。`--reset` フラグは、既存のコンテンツを完全に無視するようツールに指示します。

```bash リセット付きのaigne doc updateコマンド icon=lucide:terminal
aigne doc update --docs overview.md --reset
```

このコマンドは、基盤となるコードの大きな変更により、ドキュメントが著しく古くなった場合に便利です。



## コマンドパラメータ

`update` コマンドは、その動作を制御するためのいくつかのパラメータを受け入れます。利用可能なオプションの概要は次のとおりです:

| パラメータ | 説明 | 例 |
| :--------- | :------------------------------------------------------------------------------------------------------ | :------------------------------------------------------- |
| `--docs` | 更新するドキュメントのパスを指定します。複数のファイルに対して複数回使用できます。 | `--docs overview.md` |
| `--feedback` | 指定されたドキュメントに行う変更についてのテキスト形式の指示を提供します。 | `--feedback "Clarify the installation steps."` |
| `--reset` | 存在する場合に、ドキュメントをゼロから再生成させるブール値フラグです。 | `--reset` |
| `--glossary` | 更新プロセス中に一貫した用語を保証するための用語集ファイルへのパスを指定します。 | `--glossary @/path/to/glossary.md` |