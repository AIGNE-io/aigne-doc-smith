# ドキュメントの更新

ドキュメントの正確性と関連性を維持することは、継続的なプロセスです。プロジェクトの進化に伴い、ドキュメントを更新する必要性も高まります。このガイドでは、ユーザーからのフィードバックを取り入れる、コードの変更を反映する、あるいはセクションを完全に再生成するなど、既存のドキュメントを修正するためのステップバイステップのプロセスを説明します。

`update` コマンドは、この目的のために主に2つのモードを提供します。単一のドキュメントを洗練させるためのインタラクティブモードと、複数のドキュメントに変更を適用したりコンテンツをリセットしたりするためのバッチモードです。

## インタラクティブなドキュメント更新

インタラクティブモードは、単一のドキュメントに反復的な変更を加えるのに理想的です。フィードバックを提供し、更新されたコンテンツを確認し、結果に満足するまで改良を続けることができます。これは、特定のドキュメントを指定せずにコマンドを実行した場合のデフォルトモードです。

インタラクティブな更新セッションを開始するには、次の手順に従います。

1.  ターミナルで `update` コマンドを実行します。

    ```bash aigne doc update コマンド icon=lucide:terminal
    aigne doc update
    ```

2.  ツールが既存のドキュメントのリストを表示します。矢印キーを使用して修正したいドキュメントを選択し、Enter キーを押します。

    ![インタラクティブなドキュメント更新プロンプトのスクリーンショット。選択可能なドキュメントのリストが表示されています。](../assets/screenshots/doc-update.png)

3.  ドキュメントが選択されると、以下のオプションがあるレビュー ループに入ります。
    *   **View document**: ドキュメントの現在のバージョンの全内容をターミナルに直接表示して確認します。
    *   **Give feedback**: 変更したい点についてテキスト形式のフィードバックを入力するよう促します。例：「設定プロセスの説明を簡潔にしてください」や「よくあるエラーのトラブルシューティングセクションを追加してください」。
    *   **Done**: インタラクティブセッションを終了し、ドキュメントの最新バージョンを保存します。

4.  フィードバックを提供すると、ツールがドキュメントのコンテンツを再生成します。その後、変更内容を確認し、必要であればさらにフィードバックを提供できます。このサイクルは、ドキュメントが要件を満たすまで繰り返すことができます。

## バッチでのドキュメント更新

バッチモードは、非インタラクティブな変更を行うために設計されています。必要な変更が正確にわかっていて直接適用したい場合や、複数のドキュメントを同時に更新する必要がある場合に便利です。

### 特定のフィードバックでの更新

コマンドラインから直接フィードバックを提供して、1つまたは複数のドキュメントを更新できます。これにより、インタラクティブセッションをバイパスし、変更を即座に適用します。

`--docs` フラグを使用してドキュメントのパスを指定し、`--feedback` フラグを使用して指示を提供します。

```bash フィードバック付き aigne doc update コマンド icon=lucide:terminal
aigne doc update --docs overview.md --feedback "Add a more detailed explanation of the core features."
```

複数のドキュメントを更新するには、複数の `--docs` フラグを指定するだけです。

```bash 複数ドキュメントに対する aigne doc update コマンド icon=lucide:terminal
aigne doc update --docs overview.md --docs getting-started.md --feedback "Ensure the tone is consistent across both documents."
```

### ドキュメントコンテンツのリセット

場合によっては、ドキュメントの現在のバージョンを破棄し、最新のソースコードに基づいてゼロから再生成したいことがあります。`--reset` フラグは、既存のコンテンツを完全に無視するようツールに指示します。

```bash リセット付き aigne doc update コマンド icon=lucide:terminal
aigne doc update --docs overview.md --reset
```

このコマンドは、基盤となるコードの大幅な変更により、ドキュメントが著しく古くなった場合に便利です。

## コマンドパラメータ

`update` コマンドは、その動作を制御するためのいくつかのパラメータを受け入れます。利用可能なオプションの概要は次のとおりです。

| パラメータ | 説明 | 例 |
| :--------- | :------------------------------------------------------------------------------------------------------ | :------------------------------------------------------- |
| `--docs` | 更新するドキュメントのパスを指定します。複数のファイルに対して複数回使用できます。 | `--docs overview.md` |
| `--feedback` | 指定されたドキュメントに行う変更についてのテキスト形式の指示を提供します。 | `--feedback "Clarify the installation steps."` |
| `--reset` | 存在する場合に、ドキュメントをゼロから再生成させるブール値フラグです。 | `--reset` |
| `--glossary` | 更新プロセス中に一貫した用語を保証するために、用語集ファイルへのパスを指定します。 | `--glossary @/path/to/glossary.md` |