# ドキュメントの更新

ドキュメントの正確性と関連性を維持することは、継続的なプロセスです。プロジェクトの進化に伴い、ドキュメントを更新する必要性も高まります。このガイドでは、ユーザーからのフィードバックを取り入れる、コードの変更を反映する、あるいはセクションを完全に再生成するなど、既存のドキュメントを修正するためのステップバイステップのプロセスを説明します。

`update` コマンドは、この目的のために2つの主要なモードを提供します。1つは単一のドキュメントを洗練させるためのインタラクティブモード、もう1つは複数のドキュメントに変更を適用したり、コンテンツをリセットしたりするためのバッチモードです。

## インタラクティブなドキュメント更新

インタラクティブモードは、単一のドキュメントに反復的な変更を加えるのに最適です。フィードバックを提供し、更新されたコンテンツを確認し、結果に満足するまで改良を続けることができます。これは、特定のドキュメントを指定せずにコマンドを実行した場合のデフォルトモードです。

インタラクティブな更新セッションを開始するには、次の手順に従います。

1.  ターミナルで `update` コマンドを実行します。

    ```bash command aigne doc update icon=lucide:terminal
    aigne doc update
    ```

2.  ツールが既存のドキュメントのリストを表示します。矢印キーを使用して修正したいドキュメントを選択し、Enter キーを押します。

    ![インタラクティブなドキュメント更新プロンプトのスクリーンショット。選択可能なドキュメントのリストが表示されています。](https://docsmith.aigne.io/image-bin/uploads/6e088d8b4e724ef383b149b5c2a38116.png)

3.  ドキュメントが選択されると、以下のオプションを持つレビュー ループに入ります。
    *   **ドキュメントを表示**: ドキュメントの現在のバージョンの全内容をターミナルに直接表示して確認します。
    *   **フィードバックを提供**: 変更したい内容についてテキスト形式のフィードバックを入力するよう促します。例えば、「設定プロセスの説明を簡潔にしてください」や「よくあるエラーのトラブルシューティングセクションを追加してください」などです。
    *   **完了**: インタラクティブセッションを終了し、ドキュメントの最新バージョンを保存します。

4.  フィードバックを提供すると、ツールがドキュメントの内容を再生成します。その後、変更内容を確認し、必要であればさらにフィードバックを提供できます。このサイクルは、ドキュメントが要件を満たすまで繰り返すことができます。

## バッチでのドキュメント更新

バッチモードは、非インタラクティブな変更を行うために設計されています。どのような変更が必要かを正確に把握しており、それを直接適用したい場合や、複数のドキュメントを同時に更新する必要がある場合に便利です。

### 特定のフィードバックによる更新

コマンドラインから直接フィードバックを提供して、1つまたは複数のドキュメントを更新できます。これにより、インタラクティブセッションをバイパスし、変更を即座に適用します。

`--docs` フラグを使用してドキュメントのパスを指定し、`--feedback` フラグを使用して指示を提供します。

```bash command aigne doc update with feedback icon=lucide:terminal
aigne doc update --docs /guides/overview.md --feedback "Add a more detailed explanation of the core features."
```

複数のドキュメントを更新するには、複数の `--docs` フラグを指定するだけです。

```bash command aigne doc update multiple docs icon=lucide:terminal
aigne doc update --docs /guides/overview.md --docs /guides/getting-started.md --feedback "Ensure the tone is consistent across both documents."
```

### ドキュメントコンテンツのリセット

場合によっては、ドキュメントの現在のバージョンを破棄し、最新のソースコードに基づいてゼロから再生成したいことがあります。`--reset` フラグは、既存のコンテンツを完全に無視するようツールに指示します。

```bash command aigne doc update with reset icon=lucide:terminal
aigne doc update --docs /guides/overview.md --reset
```

このコマンドは、基盤となるコードの大幅な変更により、ドキュメントが著しく古くなった場合に便利です。

## コマンドパラメータ

`update` コマンドは、その動作を制御するためのいくつかのパラメータを受け入れます。以下は利用可能なオプションの概要です。

| パラメータ | 説明 | 例 |
| :--------- | :------------------------------------------------------------------------------------------------------ | :------------------------------------------------------- |
| `--docs` | 更新するドキュメントのパスを指定します。複数のファイルに対して複数回使用できます。 | `--docs /overview.md` |
| `--feedback` | 指定されたドキュメントに行う変更についてのテキスト指示を提供します。 | `--feedback "Clarify the installation steps."` |
| `--reset` | ブール値のフラグで、存在する場合、ドキュメントをゼロから再生成させます。 | `--reset` |
| `--glossary` | 更新プロセス中に一貫した用語を保証するための用語集ファイルへのパスを指定します。 | `--glossary @/path/to/glossary.md` |