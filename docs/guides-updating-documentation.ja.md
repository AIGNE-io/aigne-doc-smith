# ドキュメントの更新

ドキュメントの正確性と関連性を維持することは、継続的なプロセスです。プロジェクトの進化に伴い、ドキュメントを更新する必要性も高まります。このガイドでは、ユーザーのフィードバックを取り入れる、コードの変更を反映する、あるいはセクションを完全に再生成するなど、既存のドキュメントを修正するためのステップバイステップのプロセスを説明します。

この目的のために、`update` コマンドは主に2つのモードを提供します。1つは単一のドキュメントを洗練させるための対話モード、もう1つは複数のドキュメントに変更を適用したり、コンテンツをリセットしたりするためのバッチモードです。

## 対話的なドキュメント更新

対話モードは、単一のドキュメントに繰り返し変更を加えるのに最適です。フィードバックを提供し、更新されたコンテンツを確認し、結果に満足するまで改良を続けることができます。これは、特定のドキュメントを指定せずにコマンドを実行した場合のデフォルトモードです。

対話的な更新セッションを開始するには、次の手順に従ってください:

1.  ターミナルで `update` コマンドを実行します:

    ```bash aigne doc update コマンド icon=lucide:terminal
    aigne doc update
    ```

2.  ツールが既存のドキュメントのリストを表示します。矢印キーを使って修正したいドキュメントを選択し、Enterキーを押します。

    ![対話的なドキュメント更新プロンプトのスクリーンショット。選択肢としてドキュメントのリストが表示されています。](../assets/screenshots/doc-update.png)

3.  ドキュメントが選択されると、以下のオプションを持つレビュー ループに入ります:
    *   **ドキュメントを表示**: 現在のバージョンのドキュメントの全コンテンツをレビュー用にターミナルに直接表示します。
    *   **フィードバックを提供**: 変更したい点についてテキスト形式のフィードバックを入力するよう促します。例えば、「設定プロセスの説明を簡潔にしてください」や「よくあるエラーのトラブルシューティングセクションを追加してください」などです。
    *   **完了**: 対話セッションを終了し、ドキュメントの最新バージョンを保存します。

4.  フィードバックを提供すると、ツールがドキュメントのコンテンツを再生成します。その後、変更を確認し、必要であればさらにフィードバックを提供できます。このサイクルは、ドキュメントが要件を満たすまで繰り返すことができます。

## バッチでのドキュメント更新

バッチモードは、非対話的な変更を行うために設計されています。必要な変更が明確で、それらを直接適用したい場合や、複数のドキュメントを同時に更新する必要がある場合に便利です。

### 特定のフィードバックでの更新

コマンドラインから直接フィードバックを提供して、1つまたは複数のドキュメントを更新できます。これにより、対話セッションをバイパスし、変更を即座に適用します。

ドキュメントのパスを指定するには `--docs` フラグを、指示を提供するには `--feedback` フラグを使用します。

```bash フィードバック付き aigne doc update コマンド icon=lucide:terminal
aigne doc update --docs /guides/overview.md --feedback "Add a more detailed explanation of the core features."
```

複数のドキュメントを更新するには、`--docs` フラグを複数指定するだけです:

```bash 複数ドキュメントの aigne doc update コマンド icon=lucide:terminal
aigne doc update --docs /guides/overview.md --docs /guides/getting-started.md --feedback "Ensure the tone is consistent across both documents."
```

### ドキュメント内容のリセット

場合によっては、ドキュメントの現在のバージョンを破棄し、最新のソースコードに基づいてゼロから再生成したいことがあります。`--reset` フラグは、既存のコンテンツを完全に無視するようツールに指示します。

```bash リセット付き aigne doc update コマンド icon=lucide:terminal
aigne doc update --docs /guides/overview.md --reset
```

このコマンドは、基盤となるコードの大きな変更によりドキュメントが著しく古くなった場合に役立ちます。

## コマンドパラメータ

`update` コマンドは、その動作を制御するためのいくつかのパラメータを受け入れます。以下は利用可能なオプションの概要です:

| パラメータ   | 説明                                                                                             | 例                                                       |
| :--------- | :------------------------------------------------------------------------------------------------------ | :------------------------------------------------------- |
| `--docs`   | 更新するドキュメントのパスを指定します。複数のファイルに対して複数回使用できます。                             | `--docs /overview.md`                                    |
| `--feedback` | 指定したドキュメントに行う変更についてのテキスト形式の指示を提供します。                                     | `--feedback "Clarify the installation steps."`           |
| `--reset`  | これが存在する場合、ドキュメントがゼロから再生成されるようにするブール値フラグです。                       | `--reset`                                                |
| `--glossary` | 更新プロセス中に一貫した用語を保証するために、用語集ファイルへのパスを指定します。                       | `--glossary @/path/to/glossary.md`                       |