# ドキュメントの更新

ドキュメントの迅速な変更や全面的な見直しが必要ですか？このガイドでは、`update` コマンドを使用して既存のドキュメントを修正する方法について説明します。新しいフィードバックを取り入れる、コードの変更を反映する、あるいはゼロからやり直す場合でも、このツールはガイド付きのインタラクティブモードと、コマンドラインで直接更新するダイレクトモードの両方を提供します。

## インタラクティブな更新

ガイド付きの操作を行いたい場合は、引数なしで `update` コマンドを実行します。これによりインタラクティブセッションが開始され、変更したいドキュメントを選択して指示を与えることができます。

1.  インタラクティブな更新プロセスを開始します：
    ```bash aigne doc update icon=lucide:terminal
    aigne doc update
    ```
2.  プロジェクトのドキュメントリストが表示されます。矢印キーで移動し、スペースバーで1つまたは複数のファイルを選択し、`Enter` キーで選択を確定します。

    ![ユーザーがリストから更新するドキュメントを選択できるインタラクティブなプロンプトを示すスクリーンショット。](../assets/screenshots/doc-update.png)

その後のプロセスは、単一のドキュメントを選択したか、複数のドキュメントを選択したかによって異なります。

### 単一ドキュメントの調整

1つのドキュメントを選択すると、精密な調整を行うための反復的な改良ループに入ります。以下の選択肢が表示されます：

*   **View document**: ドキュメントの現在のバージョンの内容をターミナルに直接表示します。
*   **Give feedback**: 変更内容を説明するテキストを入力するよう求められます。例えば、「技術者でないユーザー向けに導入部を簡潔にしてください」や「認証関数のコード例を追加してください」などです。
*   **Done**: 改良ループを終了し、ドキュメントの最新バージョンを保存します。

フィードバックを送信すると、ツールはドキュメントの内容を再生成します。その後、新しいバージョンを確認し、さらにフィードバックを提供することができます。このサイクルを結果に満足するまで繰り返します。

### 複数ドキュメントの一括更新

2つ以上のドキュメントを選択した場合、ツールは一括更新を実行します。単一の指示またはフィードバックを提供するよう求められます。このフィードバックは、選択されたすべてのドキュメントに同時に適用されます。この方法は、ドキュメント全体で一貫した変更を行う際に効率的です。例えば、繰り返し登場するセクションを更新したり、用語を標準化したりする場合に役立ちます。

## コマンドラインフラグによる直接更新

必要な変更がすでにわかっている場合は、コマンドラインフラグを使用してインタラクティブなプロンプトを迂回し、ドキュメントを直接更新できます。

### 特定のフィードバックの適用

1つまたは複数のドキュメントにフィードバックを適用するには、`--docs` フラグと `--feedback` フラグを使用します。`--docs` フラグはファイルパスを指定し、`--feedback` は更新のための指示を提供します。

```bash 単一ドキュメントの更新 icon=lucide:terminal
aigne doc update --docs /overview --feedback "コア機能についてより詳細な説明を追加してください。"
```

`--docs` フラグを複数回指定することで、1つのコマンドで複数のドキュメントに同じフィードバックを適用できます。

```bash 複数ドキュメントの更新 icon=lucide:terminal
aigne doc update --docs /overview --docs /getting-started --feedback "両方のドキュメントでトーンが一貫していることを確認してください。"
```

### ドキュメントのリセット

ドキュメントの現在のバージョンを破棄し、ソースコードから再生成するには、`--reset` フラグを使用します。この操作により、ツールは既存のコンテンツを無視し、ドキュメントをゼロから作成するよう指示されます。

```bash ドキュメントのリセット icon=lucide:terminal
aigne doc update --docs /overview --reset
```

これは、プロジェクトのコードベースに大きな変更があったためにドキュメントが大幅に古くなった場合に特に便利です。

## コマンドパラメータ

`update` コマンドは、その動作を制御するためのいくつかのパラメータを受け付けます。利用可能なオプションの概要は以下の通りです：

| パラメータ | 説明 | 必須 |
| :--- | :--- | :--- |
| `--docs` | 更新するドキュメントのパスを指定します。複数回使用できます。 | オプション |
| `--feedback` | 指定されたドキュメントに行う変更についてのテキスト指示を提供します。 | オプション |
| `--reset` | 存在する場合、既存のコンテンツを無視してドキュメントをゼロから再生成するブール値フラグ。 | オプション |
| `--glossary` | 用語の一貫性を確保するために、用語集ファイル（`@/path/to/glossary.md`）へのパスを指定します。 | オプション |

---

これらの方法を使えば、ドキュメントを効率的に管理し、プロジェクトの開発と整合性を保ちながら正確に維持することができます。初めてドキュメントを作成する方法については、[ドキュメントの生成](./guides-generating-documentation.md)ガイドを参照してください。