---
labels: ["Reference"]
---

# 部署 Discuss Kit 服务

AIGNE DocSmith 现在提供了一项创新功能，可以自动创建和部署新的 Discuss Kit 服务来托管您的文档。这消除了手动设置托管平台的需要，提供了从文档生成到在线发布的无缝端到端解决方案。

该功能非常适合那些希望拥有专用、私有文档网站，但又不想面对手动设置和配置复杂性的用户。

## 部署过程

当您选择部署新的 Discuss Kit 服务时，DocSmith 会引导您完成一个简化的 4 步流程：

### 步骤 1: 创建支付会话
系统会创建一个安全的支付会话，并自动打开您的浏览器完成交易。支付费用涵盖您专用文档网站的基础设施成本。

### 步骤 2: 支付处理
DocSmith 会实时监控支付状态，最多等待 5 分钟完成。支付后您可以安全地关闭浏览器窗口，因为 CLI 会继续自动监控。

### 步骤 3: 服务安装
支付确认后，系统会自动安装和配置所有必要的组件，包括 Discuss Kit 平台和任何所需的依赖项。此过程通常需要 3-5 分钟。

### 步骤 4: 服务启动与 URL 生成
最后，系统会启动您的新文档网站，并为您提供访问站点的最终 URL，包括管理仪表板链接。

## 增强的发布选项

新的部署功能与 DocSmith 现有的发布工作流程无缝集成。当您运行 `aigne doc publish` 时，现在有多种选项：

<x-cards data-columns="2">
  <x-card data-title="官方平台" data-icon="lucide:globe">
    发布到免费的 docsmith.aigne.io 平台，用于公开的开源文档。
  </x-card>
  <x-card data-title="现有网站" data-icon="lucide:server">
    发布到您已经安装了 Discuss Kit 的当前网站。
  </x-card>
  <x-card data-title="新的专用网站" data-icon="lucide:rocket">
    部署一个全新的、专门用于您文档的私有 Discuss Kit 服务。
  </x-card>
  <x-card data-title="恢复设置" data-icon="lucide:play-circle">
    从之前被中断或未完成的部署设置中继续。
  </x-card>
</x-cards>

## 主要特性与优势

### 自动基础设施管理

- **零配置**: 无需手动设置服务器、数据库或托管环境。
- **组件安装**: 自动安装和配置 Discuss Kit 及所有依赖项。
- **服务监控**: 实时状态监控确保您的服务在完成前完全可操作。

### 增强的用户体验

- **恢复功能**: 如果部署被中断，您可以使用缓存的会话数据从中断处继续。
- **多语言支持**: 为更好的用户体验，提供中英文自定义成功消息。
- **智能超时**: 合理的超时配置（每步 5 分钟）和清晰的进度指示器。

### 支付与安全集成

- **安全支付处理**: 与 Payment Kit 集成进行安全交易处理。
- **会话管理**: 持久会话跟踪允许中断的部署能够恢复。
- **基于令牌的身份验证**: 自动生成和管理新服务的访问令牌。

## 使用示例

### 部署新的文档网站

```bash
# 开始发布流程并选择"新网站"选项
aigne doc publish
```

CLI 会为您展示部署选项，您可以选择"发布到新网站"来开始自动设置流程。

### 恢复中断的部署

如果您之前的部署被中断，DocSmith 会自动检测并提供恢复选项：

```bash
# CLI 会显示"继续您之前的网站设置"选项
aigne doc publish
```

### 部署后的直接发布

新服务部署完成后，未来向同一服务的发布是即时的：

```bash
# 直接发布到您配置的服务
aigne doc publish
```

## 技术实现

部署过程利用了几种复杂的机制：

- **支付会话管理**: 安全的结账会话创建，支持自定义成功消息的元数据。
- **服务状态轮询**: 智能监控安装进度和服务健康状况。
- **组件验证**: 自动验证所有必需组件是否正确安装并运行。
- **配置持久化**: 自动保存服务 URL 和身份验证令牌以供将来使用。

## 故障排除

### 常见问题与解决方案

- **支付超时**: 如果支付超过 5 分钟，会话将超时。只需重新启动流程创建新的支付会话。
- **安装延迟**: 服务安装通常在 5 分钟内完成。如果时间更长，系统会超时并提供指导。
- **服务启动问题**: 系统会监控服务健康状况并自动重试。如果问题持续存在，请联系支持。

### 错误恢复

部署过程包括强大的错误处理：

- 失败部署的自动清理
- 恢复功能的会话数据保存
- 包含可操作后续步骤的清晰错误消息

---

这项新的部署功能代表了 DocSmith 发布工作流程的重大增强，使创建专业文档网站变得比以往任何时候都更容易。有关标准发布流程的更多信息，请参阅[发布您的文档](./features-publish-your-docs.md)。
