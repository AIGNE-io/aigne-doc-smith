# 生成文档

本指南将逐步介绍如何使用 `generate` 命令为您的项目创建一套新的文档。这是将源文件从头到尾转换为结构化文档集所使用的主要命令。

该生成过程被设计为系统化和交互式的，以确保最终输出满足您项目的特定需求。

## 生成过程

当您运行 `aigne doc generate` 时，该工具会遵循一个系统化的流程来创建您的文档。以下是每个步骤的详细说明。

### 步骤 1：启动生成

首先，在终端中导航到您项目的根目录，并执行核心命令。

```bash title="终端" icon=lucide:terminal
aigne doc generate
```

这个单一命令会启动整个文档创建工作流。如果您是第一次运行该命令，系统将引导您完成一个交互式设置过程。

![生成文档对话框](../assets/screenshots/doc-generate.png)

### 步骤 2：代码分析与结构规划

首先，DocSmith 会分析您的源代码，以理解其结构、组件和关系。基于此分析，它会提出一个初始的文档结构。该计划将主题组织成一个逻辑层次结构，其中可能包括“入门指南”、“指南”和“API 参考”等部分，这些都是根据您项目的内容量身定制的。

### 步骤 3：交互式结构审查

在初步规划结构后，系统会提示您在终端中进行审查。这是一个关键步骤，让您可以在内容撰写之前，对文档的组织结构进行优化。

您可以直接批准该结构，也可以用自然语言提供反馈以进行修改。

![审查文档结构](../assets/screenshots/doc-generate-docs.png)

您可以提供的反馈示例：

*   重命名一个部分（例如，将“入门指南”更改为“快速入门”）。
*   为“故障排除”添加一个新文档。
*   移除不需要的文档。
*   重新排序各部分，将“API 参考”放在“配置”之前。

工具将应用您的反馈，并呈现更新后的结构供您再次审查。您可以重复此过程，直到结构完全符合您的要求。

### 步骤 4：内容创建

一旦您批准最终结构，DocSmith 便会开始为每个文档生成详细内容。它会读取相关的源文件，并为每个规划好的部分撰写清晰的解释、代码示例和描述。此过程将对已批准计划中的所有文档执行。

### 步骤 5：完成

当流程完成时，您将看到一条确认消息，表明文档已成功生成。输出文件将位于您在配置中指定的目录（默认为 `./docs`）。

![文档生成成功](../assets/screenshots/doc-generated-successfully.png)

## 命令选项

您可以使用可选标志来修改 `generate` 命令的行为。这些标志为生成过程提供了更多控制。

| 选项 | 描述 |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--forceRegenerate` | 从头开始重新创建所有文档，忽略任何现有文件。当您的源代码有重大更改或希望进行一次全新的构建时，此选项非常有用。 |
| `--glossary <path>` | 指定一个术语表文件（例如，`--glossary @glossary.md`）。这可以确保技术术语在所有生成的文档中得到一致的定义和使用。 |

### 用法示例

以下是一些演示如何使用该命令及其选项的示例。

**标准生成**
这是创建初始文档集最常见的用例。
```bash title="终端" icon=lucide:terminal
aigne doc generate
```

**强制重新生成**
当您需要丢弃所有现有文档并完全重新构建它们时，请使用此命令。
```bash title="终端" icon=lucide:terminal
aigne doc generate --forceRegenerate
```

**使用术语表**
为确保术语一致，请提供术语表文件的路径。
```bash title="终端" icon=lucide:terminal
aigne doc generate --glossary @./glossary.md
```

## 总结

您现在已经学习了从项目源文件生成文档的完整过程。该工作流包括启动命令、交互式审查建议的结构，以及让工具写入内容。

生成文档后，您的后续步骤可能是用新信息[更新特定文档](./guides-updating-documentation.md)或[发布您的文档](./guides-publishing-your-docs.md)，以便您的受众可以访问。