# クリーンアップ

`aigne doc clear` コマンドは、プロジェクトから生成されたファイル、キャッシュデータ、および設定を体系的に削除する方法を提供します。これは、ドキュメントのワークスペースをリセットしたり、クリーンな状態から開始したり、古いファイルが原因で発生する可能性のある問題を解決したりする必要がある場合に実用的なステップです。

## 対話的なクリーンアップ

管理された正確なクリーンアップを行うには、引数なしでコマンドを実行することが推奨される手順です。

```bash
aigne doc clear
```

このアクションにより、利用可能なすべてのクリーンアップオプションをリスト表示する対話型プロンプトが開始されます。各オプションにはその機能が明確に説明されており、削除する項目を正確に選択できます。この対話的な方法により、重要なデータの偶発的な削除を防ぎます。

## クリーンアップオプション

`clear` コマンドは、いくつかの異なる種類のデータを削除できます。以下の表は、利用可能な各オプション、その機能、および影響を受ける特定のファイルやディレクトリの詳細な内訳を示しています。

| Option | 説明 | 影響を受けるファイルとディレクトリ |
| :--- | :--- | :--- |
| `generatedDocs` | 出力ディレクトリにあるすべての生成済みドキュメントを削除します。ドキュメント構造計画は保持されます。 | 設定で指定された `docsDir` ディレクトリ。 |
| `documentStructure` | すべての生成済みドキュメントとドキュメント構造計画を削除します。このアクションはすべてのドキュメントコンテンツをリセットします。 | `.aigne/doc-smith/output/structure-plan.json` ファイルと `docsDir` ディレクトリ。 |
| `documentConfig` | プロジェクトの設定ファイルを削除します。このアクションの後、新しい設定を作成するには `aigne doc init` を実行する必要があります。 | `.aigne/doc-smith/config.yaml` ファイル。 |
| `authTokens` | 公開サイト用に保存された認証トークンを削除します。どのサイトの認証をクリアするかを選択するよう求められます。 | ホームディレクトリにある `~/.aigne/doc-smith-connected.yaml` ファイル。 |
| `deploymentConfig` | 設定ファイルから `appUrl` 設定のみを削除し、他の設定はそのまま残します。 | `.aigne/doc-smith/config.yaml` ファイル。 |
| `mediaDescription` | メディアファイル用にキャッシュされた、AIが生成した説明を削除します。これらは次回のドキュメントビルド時に再生成されます。 | `.aigne/doc-smith/cache/media-description.json` ファイル。 |

## 非対話的なクリーンアップ

自動化スクリプトでの使用や、直接的なコマンドライン操作を好むユーザー向けに、`--targets` フラグを使用して1つ以上のクリーンアップターゲットを指定できます。これにより、対話型プロンプトをバイパスして、すぐにクリーンアップを実行します。

### 単一オプションのクリア

生成されたドキュメントのみを削除するには、次のコマンドを実行します。

```bash
aigne doc clear --targets generatedDocs
```

### 複数オプションのクリア

スペースで区切られたターゲット名のリストを提供することで、一度に複数の項目を削除できます。例えば、ドキュメント設定とドキュメント構造の両方を削除するには、以下のコマンドを実行します。

```bash
aigne doc clear --targets documentConfig documentStructure
```

設定をクリアした後、新しい設定プロセスを開始できます。

---

新しい設定の作成に関する詳細な手順については、[初期設定](./configuration-initial-setup.md)ガイドを参照してください。