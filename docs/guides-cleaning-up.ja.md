# クリーンアップ

このガイドでは、`aigne doc clear` コマンドを使用して、プロジェクトから生成されたファイル、設定、キャッシュデータを削除する方法について説明します。このコマンドは、新規に開始したり、機密情報を削除したりする場合に役立ちます。

`clear` コマンドは、対話モードと非対話モードの2つのモードで実行できます。引数なしで実行すると、利用可能なクリーンアップオプションを案内する対話型ウィザードが起動します。

## コマンドの使用方法

クリーンアップコマンドを使用するには、ターミナルで以下を実行します。

```bash
aigne doc clear
```

または、1つ以上のターゲットを引数として直接指定して、非対話的にコマンドを実行することもできます。

```bash
aigne doc clear --targets <target1> <target2> ...
```

## クリーンアップオプション

`aigne doc clear` コマンドを引数なしで実行すると、削除する項目の対話型チェックリストが表示されます。複数の項目を選択して一度にクリアできます。

利用可能なクリーンアップターゲットは以下の通りです。

| Target | Description |
| :--- | :--- |
| **`generatedDocs`** | 出力ディレクトリ（例：`./docs`）から生成されたすべてのドキュメントファイルを削除します。この操作では、ドキュメント構造ファイルは保持されます。 |
| **`documentStructure`** | 生成されたすべてのドキュメントとドキュメント構造ファイル（例：`.aigne/doc-smith/output/structure-plan.json`）を削除します。 |
| **`documentConfig`** | メインのプロジェクト設定ファイル（例：`.aigne/doc-smith/config.yaml`）を削除します。再生成するには `aigne doc init` を実行する必要があります。 |
| **`authTokens`** | 保存された認証トークンをファイル（例：`~/.aigne/doc-smith-connected.yaml`）から削除します。どのサイトの認証をクリアするか選択するよう求められます。 |
| **`deploymentConfig`** | ドキュメント設定ファイルから `appUrl` を削除し、他の設定はそのまま残します。 |
| **`mediaDescription`** | メディアファイルのキャッシュされたAI生成の説明（例：`.aigne/doc-smith/media-description.yaml` から）を削除します。これらは次回実行時に再生成されます。 |

## 例

### 対話型クリーンアップ

対話型のクリーンアッププロセスを開始するには、引数なしでコマンドを実行します。これによりチェックリストが表示され、スペースバーで削除したい項目を選択し、Enterで確定できます。

```bash
aigne doc clear
```

### 非対話型クリーンアップ

特定の項目を直接クリアするには、そのターゲット名を引数として指定します。

#### 生成されたドキュメントのみをクリアする

このコマンドは `docs` ディレクトリを削除しますが、`structure-plan.json` はそのまま残します。

```bash
aigne doc clear --targets generatedDocs
```

#### 構造と設定をクリアする

このコマンドは、生成されたドキュメント、構造計画、および設定ファイルを削除します。

```bash
aigne doc clear --targets documentStructure documentConfig
```

## まとめ

`clear` コマンドは、プロジェクトの状態を管理するためのツールです。ガイド付きのプロセスには対話モードを使用し、より高速な実行にはターゲットを直接指定してください。これらの操作は元に戻すことができないため、クリーンアップを実行する前に重要なデータは必ずバックアップしてください。