# ドキュメントの公開

ドキュメントを生成したら、次のステップはオンラインでアクセスできるようにすることです。このガイドでは、`aigne doc publish` コマンドを使用してドキュメントを公開するための体系的な手順を説明します。

## Publish コマンド

`aigne doc publish` コマンドは、生成されたドキュメントファイルを Web サービスにアップロードし、Web ブラウザを通じてオーディエンスが利用できるようにします。

このコマンドは、完全な名前で実行することも、便宜上エイリアスのいずれかを使用して実行することもできます。

```bash コマンドの実行 icon=lucide:terminal
# 完全なコマンド
aigne doc publish

# エイリアス
aigne doc pub
aigne doc p
```

このコマンドを初めて実行すると、公開プラットフォームを選択するための対話型プロンプトが開始されます。

![ドキュメント公開ダイアログ](../assets/screenshots/doc-publish.png)

## 公開先

このツールは、ドキュメントをホスティングするためのいくつかの公開先を提供します。対話型のセットアップでは、以下の選択肢が表示されます。

### オプション 1: DocSmith Cloud

このオプションは、無料のホスティングサービスである `docsmith.aigne.io` にドキュメントを公開します。

*   **用途**: この方法は、オープンソースプロジェクトや、一般公開を目的としたあらゆるドキュメントに適しています。
*   **コスト**: 無料。
*   **結果**: 公開プロセスが完了した後、提供される URL でドキュメントが一般公開されます。

### オプション 2: 既存の Web サイト

このオプションを使用すると、すでに所有および管理している Web サイトにドキュメントを公開できます。これには、Discuss Kit の独自のインスタンスを運用する必要があります。

*   **用途**: これは、既存の会社の Web サイト、製品ポータル、または個人のドメインにドキュメントを直接統合するためのものです。
*   **要件**: 独自のホスティングインフラストラクチャと、実行中の Discuss Kit インスタンスが必要です。
*   **手順**:
    1.  対話型プロンプトから「Your existing website」オプションを選択します。
    2.  プロンプトが表示されたら、Web サイトの完全な URL（例: `https://docs.your-company.com`）を入力します。
    3.  独自のドキュメント Web サイトをセットアップするには、公式ストアから Discuss Kit インスタンスを入手できます: [https://www.web3kit.rocks/discuss-kit](https://www.web3kit.rocks/discuss-kit)。Discuss Kit は、ホスティングに必要なバックエンドを提供する非オープンソースのサービスです。

### オプション 3: 新規 Web サイト

このオプションは、ドキュメント専用の新しい Web サイトのセットアップを支援します。

*   **用途**: これは、スタンドアロンのドキュメントポータルが必要でありながら、既存の Web サイトを持っていないユーザー向けです。
*   **コスト**: これは有料サービスです。
*   **手順**: コマンドラインインターフェースが、新しい Discuss Kit インスタンスのデプロイと設定のプロセスを案内します。以前にこのプロセスを開始したことがある場合は、セットアップを再開するオプションも利用できます。

## 自動公開

継続的インテグレーション/継続的デプロイメント（CI/CD）パイプラインなどの自動化環境では、公開先の URL を直接指定することで、対話型プロンプトをバイパスできます。

コマンドで `--appUrl` フラグを使用して、公開ターゲットを定義します。

```bash 直接公開の例 icon=lucide:terminal
aigne doc publish --appUrl https://docs.your-company.com
```

特定の URL に初めて公開すると（対話型プロンプトまたは `--appUrl` フラグのいずれかを通じて）、ツールはこの URL をローカルの設定ファイルに保存します。その後の `aigne doc publish` の実行では、保存された URL が自動的に使用されるため、更新プロセスが効率化されます。

## トラブルシューティング

### 認証エラー

公開プロセスが "401" または "403" を含むエラーメッセージで失敗した場合、それは認証トークンに問題があることを示します。トークンが無効であるか、期限切れであるか、または必要な権限が不足している可能性があります。

これを解決するには、`clear` コマンドを実行して、ローカルの設定と認証情報をリセットします。

```bash 設定のクリア icon=lucide:terminal
aigne doc clear
```

コマンドが完了したら、`aigne doc publish` を再度実行してください。再認証し、公開先を設定するように求められます。

---

ドキュメントの公開に成功した後、プロジェクトの進化に伴い、それを更新する必要があるかもしれません。このプロセスに関する手順については、[ドキュメントの更新](./guides-updating-documentation.md) ガイドを参照してください。