# ドキュメントの公開

ドキュメントを生成したら、次のステップはそれをオンラインで公開し、読者がアクセスできるようにすることです。このガイドでは、`aigne doc publish` コマンドを使用した公開プロセスの体系的な概要を説明します。

## 公開コマンド

ドキュメントを公開するための主要なコマンドは `aigne doc publish` です。このコマンドは、生成されたファイルをウェブサービスにアップロードし、ブラウザで表示できるようにします。

このコマンドは、フルネームまたは短いエイリアスで実行できます：

```bash
# フルコマンド
aigne doc publish

# エイリアス
aigne doc pub
aigne doc p
```

publish コマンドを初めて実行すると、希望する公開プラットフォームを選択するための対話型プロンプトが表示されます。

## 公開オプション

ドキュメントをホストする場所にはいくつかのオプションがあります。対話型プロンプトが選択をガイドします。

### 1. DocSmith Cloud（無料ホスティング）

このオプションは、AIGNE が提供する無料のホスティングサービスである `docsmith.aigne.io` にドキュメントを公開します。

-   **ユースケース：** オープンソースプロジェクト、個人ブログなど、カスタムインフラを必要とせず公開アクセスが必要なあらゆるシナリオに最適です。
-   **コスト：** 無料。
-   **結果：** 公開が成功すると、提供された URL でドキュメントが公開されます。

### 2. 既存のウェブサイト

このオプションを使用すると、すでに所有および管理しているウェブサイトにドキュメントを公開できます。

-   **ユースケース：** 既存の会社のウェブサイト、製品サイト、または個人ドメインにドキュメントを直接統合する場合に最適です。この方法では、Discuss Kit の独自のインスタンスを実行する必要があります。
-   **コスト：** 独自のホスティングインフラが必要です。
-   **セットアップ：**
    1.  プロンプトでこのオプションを選択します。
    2.  ウェブサイトの URL を入力するよう求められます（例：`https://docs.your-company.com`）。
    3.  独自のドキュメントウェブサイトをセットアップするには、公式ストアから Discuss Kit インスタンスを入手できます：[https://www.web3kit.rocks/discuss-kit](https://www.web3kit.rocks/discuss-kit)。

### 3. 新規ウェブサイト（有料サービス）

既存のウェブサイトがない場合、このサービスはドキュメント専用の新しいサイトをセットアップするのに役立ちます。

-   **ユースケース：** カスタムドメインと管理されたホスティングを備えた、プロフェッショナルでスタンドアロンのドキュメントポータルを作成するのに適しています。
-   **コスト：** これは有料サービスです。
-   **プロセス：** コマンドは、新しい Discuss Kit インスタンスのデプロイと設定に必要な手順をガイドします。このプロセスを以前に開始したことがある場合は、以前のセットアップを再開するオプションも表示されます。

## 直接公開

CI/CD パイプラインなどの自動化されたワークフローの場合、または初期設定が完了した後は、アプリケーションの URL を直接指定することで対話型プロンプトをバイパスできます。

`--appUrl` フラグに続けてウェブサイトの URL を指定します。

```bash
# カスタムドキュメントサイトの例
aigne doc publish --appUrl https://docs.your-company.com
```

特定の URL への公開に成功すると（プロンプトでオプションを選択するか、`--appUrl` フラグを使用するかのいずれか）、DocSmith はこの URL をローカル設定に保存します。次回以降の実行時には、再度尋ねることなく、保存された URL に自動的に公開します。

## トラブルシューティング

### 認証エラー

「401」または「403」を含むエラーメッセージが表示された場合、認証トークンが無効であるか、期限切れであることを示します。これは、権限が変更された場合や、トークンが古い場合に発生する可能性があります。

これを解決するには、`clear` コマンドを実行して、保存されているすべての設定と認証情報をクリアします：

```bash
aigne doc clear
```

設定をクリアした後、再度 `aigne doc publish` を実行してください。初めて実行したときのように、認証とセットアップのプロセスがガイドされます。