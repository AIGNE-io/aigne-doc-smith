# 初始设置

本文档提供了 AIGNE DocSmith 交互式设置过程的逐步指南。该过程在您首次运行 `aigne doc generate` 命令时自动启动，也可以手动启动。其目标是创建一个 `config.yaml` 文件，用于存储您生成文档的偏好设置。

## 如何开始设置过程

要手动开始配置，请在终端中导航到您项目的根目录，并执行以下命令：

```bash
aigne doc init
```

此命令会启动一个交互式问卷，以配置您的文档设置。该过程包含 10 个步骤，旨在根据您的具体要求定制生成的文档。

## 配置步骤

设置过程将向您提出一系列问题。以下各节详细介绍了每个步骤。

### 步骤 1：定义文档目的

第一步是定义您文档的主要目标。这一选择会影响生成内容的基调、结构和重点。

**提示：** `📝 [1/10]：您希望文档帮助读者达成什么目标？`

您可以从以下列表中选择一个或多个选项：

| 选项 | 名称 | 描述 |
| :--- | :--- | :--- |
| `getStarted` | 快速入门 | 帮助新用户在 30 分钟内从零开始上手。 |
| `completeTasks` | 完成特定任务 | 指导用户完成常见的工作流程和用例。 |
| `findAnswers` | 快速查找答案 | 为所有功能和 API 提供可搜索的参考。 |
| `understandSystem` | 理解系统 | 解释系统工作原理以及设计决策背后的原因。 |
| `solveProblems` | 解决问题 | 帮助用户排查和修复问题。 |
| `mixedPurpose` | 混合目的 | 涵盖多种需求。 |

### 步骤 2：确定目标受众

接下来，指定您文档的主要读者。这有助于适当地调整语言和技术深度。

**提示：** `👥 [2/10]：谁将是您文档的主要读者？`

您可以从此列表中选择多个受众：

| 选项 | 名称 | 描述 |
| :--- | :--- | :--- |
| `endUsers` | 最终用户（非技术人员） | 使用产品但不编写代码的人员。 |
| `developers` | 集成开发者 | 将此产品添加到其项目中的工程师。 |
| `devops` | DevOps/基础设施人员 | 部署、监控和维护系统的团队。 |
| `decisionMakers` | 技术决策者 | 评估该技术的架构师或负责人。 |
| `supportTeams` | 支持团队 | 帮助他人使用产品的人员。 |
| `mixedTechnical` | 混合技术受众 | 开发者、DevOps 人员和其他技术用户的组合。 |

### 步骤 3：指定读者知识水平

指明您受众的假定知识水平。这能确保内容以适当的级别呈现，避免信息过于基础或过于复杂。

**提示：** `🧠 [3/10]：读者对您的项目了解多少？`

选择最能描述您读者的选项：

| 选项 | 名称 | 描述 |
| :--- | :--- | :--- |
| `completeBeginners` | 完全初学者 | 完全不熟悉该领域或技术。 |
| `domainFamiliar` | 熟悉领域但初次使用工具 | 了解问题领域，但对这个具体解决方案不熟悉。 |
| `experiencedUsers` | 有经验的用户 | 需要参考材料或高级主题的常规用户。 |
| `emergencyTroubleshooting` | 紧急/故障排查 | 需要快速解决问题的用户。 |
| `exploringEvaluating` | 探索/评估 | 试图确定该工具是否满足其需求的用户。 |

### 步骤 4：设置文档深度

选择文档的详细程度。此参数决定了生成内容的范围和细节水平。

**提示：** `📊 [4/10]：您的文档应该有多详细？`

选择以下级别之一：

| 选项 | 名称 | 描述 |
| :--- | :--- | :--- |
| `essentialOnly` | 仅包含基本内容 | 简明扼要地涵盖最常见的 80% 的用例。 |
| `balancedCoverage` | 均衡覆盖 | 提供良好深度和实际示例。 |
| `comprehensive` | 全面 | 涵盖所有功能、边缘案例和高级场景。 |
| `aiDecide` | 由 AI 决定 | 工具会分析代码复杂度以建议合适的深度。 |

### 步骤 5：选择主要语言

选择您文档的主要语言。系统将检测您操作系统的语言并建议其为默认语言。

**提示：** `🌐 [5/10]：您的主要文档语言是什么？`

您可以从包含英语、中文（简体）和西班牙语在内的 12 种受支持语言列表中选择。

### 步骤 6：选择翻译语言

选择您希望将文档翻译成的其他语言。

**提示：** `🔄 [6/10]：我们应该将文档翻译成哪些语言？`

您可以从支持的选项中选择多种语言，不包括上一步中选择的主要语言。

### 步骤 7：定义文档目录

指定保存生成的文档文件的文件夹。

**提示：** `📁 [7/10]：我们应该将文档保存在哪里？`

默认路径为 `.aigne/doc-smith/docs`。您可以接受此默认设置或提供其他路径。

### 步骤 8：指定内容源

指明工具应分析哪些文件和文件夹以生成文档。您可以添加多个路径，并使用 glob 模式进行更具体的文件匹配。

**提示：** `🔍 [8/10]：内容源`

系统将提示您输入文件路径、文件夹路径或 glob 模式（例如，`src/**/*.js`）。如果未提供路径，工具将默认分析整个项目目录。

### 步骤 9：提供自定义规则

此可选步骤允许您提供具体的说明或约束，供 AI 在内容生成过程中遵循。

**提示：** `📋 [9/10]：您的文档是否有任何自定义规则或要求？（可选，按 Enter 键跳过）`

您可以输入任何要求，例如基调、风格或要排除的内容。例如：“注重技术准确性，避免使用营销术语。”

### 步骤 10：配置媒体设置

设置要包含在文档中的图片的最小宽度。这有助于过滤掉低分辨率的图片或图标。

**提示：** `🖼️ [10/10]：要包含在文档中的最小图片宽度（像素）：`

默认值为 `800`。您可以输入其他正数来调整此过滤器。

## `config.yaml` 文件

回答完所有问题后，DocSmith 会将您的回答保存到一个名为 `config.yaml` 的配置文件中，该文件位于您项目的 `.aigne/doc-smith/` 目录中。此文件将作为未来所有文档生成的蓝图，并可随时手动编辑。

以下是生成的 `config.yaml` 文件示例：

```yaml config.yaml icon=logos:yaml
# 文档发布的项目信息
projectName: AIGNE DocSmith
projectDesc: AIGNE DocSmith is a powerful, AI-driven documentation generation tool...
projectLogo: ../assets/screenshots/9645caf64b4232699982c4d940b03b90.svg

# =============================================================================
# 文档配置
# =============================================================================

# 目的：您希望读者达成的最主要成果是什么？
documentPurpose:
  - getStarted
  - completeTasks

# 目标受众：谁会最常阅读这份文档？
targetAudienceTypes:
  - endUsers

# 读者知识水平：读者在阅读文档时通常具备哪些知识？
readerKnowledgeLevel: completeBeginners

# 文档深度：文档应该有多全面？
documentationDepth: comprehensive

# 自定义规则：定义具体的文档生成规则和要求
rules: |
  Avoid using vague or empty words that don't provide measurable or specific details...

# 目标受众：描述您的具体目标受众及其特征
targetAudience: |
  
# 语言设置
locale: en
translateLanguages:
  - zh
  - zh-TW
  - ja

# 路径
docsDir: ./docs  # 保存生成文档的目录
sourcesPath:  # 要分析的源代码路径
  - ./README.md
  - ./agents

# =============================================================================
# 媒体设置
# =============================================================================
media:
  minImageWidth: 800
```

## 总结与后续步骤

设置完成后，您将看到一条确认消息。

![设置完成](../assets/screenshots/doc-complete-setup.png)

初始配置保存后，您现在就可以创建文档了。

*   要继续，请参阅 [生成文档](./guides-generating-documentation.md) 指南，了解如何运行生成过程的说明。