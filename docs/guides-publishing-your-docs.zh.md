# 发布您的文档

生成文档后，下一步是将其发布到线上，以便您的受众可以访问。本指南系统地概述了使用 `aigne doc publish` 命令的发布过程。

## 发布命令

`aigne doc publish` 是用于上线文档的主要命令。该命令会将您生成的文件上传到 Web 服务，以便在浏览器中查看。

您可以使用其完整名称或更短的别名来执行该命令：

```bash
# 完整命令
aigne doc publish

# 别名
aigne doc pub
aigne doc p
```

当您首次运行发布命令时，系统将显示一个交互式提示，让您选择首选的发布平台。

## 发布选项

您有多种托管文档的选项。交互式提示将引导您完成选择。

### 1. DocSmith Cloud（免费托管）

此选项会将您的文档发布到 `docsmith.aigne.io`，这是 AIGNE 提供的免费托管服务。

-   **用例：** 非常适合开源项目、个人博客或任何希望在无需自定义基础设施的情况下实现公开访问的场景。
-   **成本：** 免费。
-   **结果：** 您的文档将在发布成功后通过提供的 URL 公开访问。

### 2. 您现有的网站

此选项允许您将文档发布到您已拥有并管理的网站。

-   **用例：** 最适合将文档直接集成到现有公司网站、产品站点或个人域名中。此方法需要您运行自己的 Discuss Kit 实例。
-   **成本：** 需要您自己的托管基础设施。
-   **设置：**
    1.  在提示中选择此选项。
    2.  系统会要求您输入网站的 URL（例如，`https://docs.your-company.com`）。
    3.  要设置您自己的文档网站，您可以从官方商店获取 Discuss Kit 实例：[https://www.web3kit.rocks/discuss-kit](https://www.web3kit.rocks/discuss-kit)。

### 3. 新网站（付费服务）

如果您没有现有网站，此服务可以帮助您为文档建立一个新的专用站点。

-   **用例：** 适合创建具有自定义域名和托管服务的专业、独立的文档门户。
-   **成本：** 这是一项付费服务。
-   **流程：** 该命令将引导您完成部署和配置新的 Discuss Kit 实例所需的步骤。如果您之前已开始此过程，您还会看到一个恢复先前设置的选项。

## 直接发布

对于自动化工作流（如 CI/CD 管道），或在您完成初始设置后，您可以通过直接指定应用程序 URL 来绕过交互式提示。

使用 `--appUrl` 标志，后跟您的网站 URL。

```bash
# 自定义文档站点示例
aigne doc publish --appUrl https://docs.your-company.com
```

当您成功发布到特定 URL（通过在提示中选择选项或使用 `--appUrl` 标志）后，DocSmith 会将此 URL 保存在您的本地配置中。在后续运行中，它将自动发布到已保存的 URL，而不会再次询问。

## 问题排查

### 授权错误

如果您遇到包含“401”或“403”的错误消息，这表示您的身份验证令牌无效或已过期。如果权限已更改或令牌过旧，可能会发生这种情况。

要解决此问题，您可以运行 `clear` 命令来清除所有存储的配置和凭据：

```bash
aigne doc clear
```

清除配置后，再次运行 `aigne doc publish`。系统将引导您完成身份验证和设置过程，就像第一次一样。