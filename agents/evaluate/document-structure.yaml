name: evaluateDocumentStructure
description: Evaluates the results generated by the document-structure agent to ensure they meet expectations, especially in scenarios with previous generation results and user feedback.
instructions:
  url: ../../prompts/evaluate/document-structure.md
model: openai/gpt-5
# model: anthropic/claude-opus-4-0
task_render_mode: collapse
task_title: Evaluate the structure of the documentation
input_schema:
  type: object
  properties:
    documentStructureYaml:
      type: string
      description: Document structure planning
    purposes:
      type: string
      description: User-selected document goals
    audiences:
      type: string
      description: User-selected target audiences
    coverageDepth:
      type: string
      description: User-selected content depth
  required:
    - documentStructureYaml
    - purposes
    - audiences
    - coverageDepth
output_schema:
  type: object
  properties:
    structureEvaluation:
      type: object
      properties:
        baseline:
          type: integer
          description: Baseline score of selected purposes
        details:
          type: array
          items:
            type: object
            properties:
              dimension:
                type: string
                enum: [purposeCoverage, audienceCoverage, depthCoverage]
                description: Dimension associated with this observation
              level:
                type: string
                enum: [excellent, good, meets, minor, critical]
                description: Evaluation level applied to the observation
              topic:
                type: string
                description: Short identifier for the purpose/audience/depth aspect being judged
              description:
                type: string
                description: Why the level was assigned
              line:
                type: integer
                description: Integer line number within the source document/module (use 0 if unknown)
            required:
              - dimension
              - level
              - topic
              - description
          description: List of detailed evaluations for each purpose dimension
      required:
        - baseline
        - details
  required:
    - structureEvaluation
