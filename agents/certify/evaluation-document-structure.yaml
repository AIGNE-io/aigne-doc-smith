name: evaluationDocumentStructure
description: Evaluates the results generated by the document-structure agent to ensure they meet expectations, especially in scenarios with previous generation results and user feedback.
instructions:
  url: ../../prompts/certify/evaluation-document-structure.md
task_render_mode: collapse
input_schema:
  type: object
  properties:
    documentStructureYaml:
      type: string
      description: Document structure planning
    purposes:
      type: string
      description: User-selected document goals
    audiences:
      type: string
      description: User-selected target audiences
    coverageDepth:
      type: string
      description: User-selected content depth
  required:
    - documentStructureYaml
    - purposes
    - audiences
    - coverageDepth
output_schema:
  type: object
  properties:
    purposeCoverage:
      type: object
      properties:
        score:
          type: integer
          minimum: 1
          maximum: 5
          description: Document purpose coverage score, 1-5 points
        reason:
          type: string
          description: Concise explanation of coverage status and impact
        covered:
          type: array
          items:
            type: string
          description: List of covered goals
        missing:
          type: array
          items:
            type: string
          description: List of uncovered goals
      required:
        - score
        - reason
    audienceCoverage:
      type: object
      properties:
        score:
          type: integer
          minimum: 1
          maximum: 5
          description: Target audience coverage score, 1-5 points
        reason:
          type: string
          description: Concise explanation of coverage status and impact
        covered:
          type: array
          items:
            type: string
          description: List of covered audiences
        missing:
          type: array
          items:
            type: string
          description: List of uncovered audiences
      required:
        - score
        - reason
    coverageDepthAlignment:
      type: object
      properties:
        score:
          type: integer
          minimum: 1
          maximum: 5
          description: Coverage depth alignment score, 1-5 points
        reason:
          type: string
          description: Concise explanation of coverage status and impact
      required:
        - score
        - reason
  required:
    - purposeCoverage
    - audienceCoverage
    - coverageDepthAlignment